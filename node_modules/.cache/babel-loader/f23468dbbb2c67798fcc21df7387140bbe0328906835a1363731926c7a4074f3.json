{"ast":null,"code":"var _jsxFileName = \"/Users/kimjunhoe/Documents/GitHub/UNTITLED_/src/Component/FeedCreate.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { SessionCurrent } from \"./SessionCurrent\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  padding: 0 10%;\n`;\n_c = Container;\nconst Profile = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`;\n_c2 = Profile;\nconst ImgBox = styled.div`\n  width: 200px;\n  height: 200px;\n  border: 1px solid white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 30px 0px;\n`;\n_c3 = ImgBox;\nconst Textarea = styled.textarea`\n  width: 100%;\n  padding: 5px;\n  background-color: white;\n  color: black;\n  border: 1px solid white;\n  margin: 30px 0px;\n`;\n_c4 = Textarea;\nconst Button = styled.div`\n  width: 200px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 10px;\n  padding: 10px 70px;\n  border-radius: 50px;\n  background-color: white;\n  color: black;\n  font-size: 16px;\n  font-weight: 300;\n  cursor: pointer;\n  transition: background-color 0.3s; /* 부드러운 전환 효과 추가 */\n\n  &:hover {\n    background-color: #561689;\n    color: white;\n    border: none;\n  }\n`;\n_c5 = Button;\nexport function FeedCreate() {\n  _s();\n  const [imageSrc, setImageSrc] = useState(null);\n  const [imageByte, setImageByte] = useState(null);\n  const [imageSendFile, setImageSendFile] = useState(null);\n  const {\n    sessionUser\n  } = SessionCurrent();\n  function showFile(file) {\n    if (file) {\n      const imageUrl = URL.createObjectURL(file);\n      setImageSrc(imageUrl);\n    }\n  }\n  function convertImageToBytes(event) {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        const arrayBuffer = reader.result;\n        const byteArray = new Uint8Array(arrayBuffer);\n        setImageByte(byteArray);\n        convertBytesToFile(byteArray);\n      };\n      reader.onerror = () => {\n        console.error(\"파일 읽기에 실패했습니다.\");\n      };\n      reader.readAsArrayBuffer(file);\n    }\n  }\n  function convertBytesToFile(byteArray) {\n    const blob = new Blob([byteArray]);\n    const file = new File([blob], \"default_filename.bin\");\n    showFile(file);\n    setImageSendFile(file);\n  }\n  async function editBtnClick() {\n    if (imageSendFile != null) {\n      const formData = new FormData();\n      formData.append(\"file\", imageSendFile);\n      formData.append(\"user\", sessionUser);\n      formData.append(\"text\", text);\n      console.log(1, formData);\n      try {\n        const response = await axios.post(\"http://localhost:8080/api/feed\", formData, {\n          headers: {\n            \"Content-Type\": \"multipart/form-data\"\n          }\n        });\n        console.log(\"img\", response.data);\n      } catch (error) {\n        console.error(\"요청에 실패했습니다.\", error.response ? error.response.data : error.message);\n      }\n    } else {\n      alert(\"이미지 파일을 업로드해주세요.\");\n    }\n  }\n  let text;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: \"80px\",\n          fontWeight: \"100\",\n          textAlign: \"center\",\n          margin: \"40px 0\"\n        },\n        children: \"Feed Create\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Profile, {\n        children: [/*#__PURE__*/_jsxDEV(ImgBox, {\n          children: imageSrc && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imageSrc,\n            alt: \"Selected Image\",\n            style: {\n              maxHeight: \"100%\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"fileInput\",\n          accept: \"image/*\",\n          onChange: e => {\n            convertImageToBytes(e);\n          },\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Textarea, {\n          id: \"text\",\n          name: \"text\",\n          rows: \"5\",\n          placeholder: \"Enter Profile Text\",\n          required: true,\n          onChange: e => {\n            text = e.target.value;\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => {\n          editBtnClick();\n        },\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(FeedCreate, \"fwTx/R8zuQS55znmgZp1Uz1ZOpQ=\");\n_c6 = FeedCreate;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Profile\");\n$RefreshReg$(_c3, \"ImgBox\");\n$RefreshReg$(_c4, \"Textarea\");\n$RefreshReg$(_c5, \"Button\");\n$RefreshReg$(_c6, \"FeedCreate\");","map":{"version":3,"names":["useState","styled","SessionCurrent","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Container","div","_c","Profile","_c2","ImgBox","_c3","Textarea","textarea","_c4","Button","_c5","FeedCreate","_s","imageSrc","setImageSrc","imageByte","setImageByte","imageSendFile","setImageSendFile","sessionUser","showFile","file","imageUrl","URL","createObjectURL","convertImageToBytes","event","target","files","reader","FileReader","onload","arrayBuffer","result","byteArray","Uint8Array","convertBytesToFile","onerror","console","error","readAsArrayBuffer","blob","Blob","File","editBtnClick","formData","FormData","append","text","log","response","post","headers","data","message","alert","children","style","fontSize","fontWeight","textAlign","margin","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","maxHeight","type","id","accept","onChange","e","required","name","rows","placeholder","value","onClick","_c6","$RefreshReg$"],"sources":["/Users/kimjunhoe/Documents/GitHub/UNTITLED_/src/Component/FeedCreate.js"],"sourcesContent":["import { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { SessionCurrent } from \"./SessionCurrent\";\nimport axios from \"axios\";\n\nconst Container = styled.div`\n  padding: 0 10%;\n`;\n\nconst Profile = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`;\nconst ImgBox = styled.div`\n  width: 200px;\n  height: 200px;\n  border: 1px solid white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 30px 0px;\n`;\nconst Textarea = styled.textarea`\n  width: 100%;\n  padding: 5px;\n  background-color: white;\n  color: black;\n  border: 1px solid white;\n  margin: 30px 0px;\n`;\nconst Button = styled.div`\n  width: 200px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 10px;\n  padding: 10px 70px;\n  border-radius: 50px;\n  background-color: white;\n  color: black;\n  font-size: 16px;\n  font-weight: 300;\n  cursor: pointer;\n  transition: background-color 0.3s; /* 부드러운 전환 효과 추가 */\n\n  &:hover {\n    background-color: #561689;\n    color: white;\n    border: none;\n  }\n`;\n\nexport function FeedCreate() {\n  const [imageSrc, setImageSrc] = useState(null);\n  const [imageByte, setImageByte] = useState(null);\n  const [imageSendFile, setImageSendFile] = useState(null);\n  const { sessionUser } = SessionCurrent();\n\n  function showFile(file) {\n    if (file) {\n      const imageUrl = URL.createObjectURL(file);\n      setImageSrc(imageUrl);\n    }\n  }\n\n  function convertImageToBytes(event) {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n\n      reader.onload = () => {\n        const arrayBuffer = reader.result;\n        const byteArray = new Uint8Array(arrayBuffer);\n        setImageByte(byteArray);\n        convertBytesToFile(byteArray);\n      };\n\n      reader.onerror = () => {\n        console.error(\"파일 읽기에 실패했습니다.\");\n      };\n\n      reader.readAsArrayBuffer(file);\n    }\n  }\n\n  function convertBytesToFile(byteArray) {\n    const blob = new Blob([byteArray]);\n    const file = new File([blob], \"default_filename.bin\");\n    showFile(file);\n    setImageSendFile(file);\n  }\n\n  async function editBtnClick() {\n    if (imageSendFile != null) {\n      const formData = new FormData();\n      formData.append(\"file\", imageSendFile);\n      formData.append(\"user\", sessionUser);\n      formData.append(\"text\", text);\n      console.log(1, formData);\n      try {\n        const response = await axios.post(\n          \"http://localhost:8080/api/feed\",\n          formData,\n          {\n            headers: {\n              \"Content-Type\": \"multipart/form-data\",\n            },\n          }\n        );\n        console.log(\"img\", response.data);\n      } catch (error) {\n        console.error(\n          \"요청에 실패했습니다.\",\n          error.response ? error.response.data : error.message\n        );\n      }\n    } else {\n      alert(\"이미지 파일을 업로드해주세요.\");\n    }\n  }\n\n  let text;\n\n  return (\n    <>\n      <Container>\n        <div\n          style={{\n            fontSize: \"80px\",\n            fontWeight: \"100\",\n            textAlign: \"center\",\n            margin: \"40px 0\",\n          }}\n        >\n          Feed Create\n        </div>\n\n        <Profile>\n          <ImgBox>\n            {imageSrc && (\n              <img\n                src={imageSrc}\n                alt=\"Selected Image\"\n                style={{ maxHeight: \"100%\" }}\n              />\n            )}\n          </ImgBox>\n          <input\n            type=\"file\"\n            id=\"fileInput\"\n            accept=\"image/*\"\n            onChange={(e) => {\n              convertImageToBytes(e);\n            }}\n            required\n          />\n          <Textarea\n            id=\"text\"\n            name=\"text\"\n            rows=\"5\"\n            placeholder=\"Enter Profile Text\"\n            required\n            onChange={(e) => {\n              text = e.target.value;\n            }}\n          />\n        </Profile>\n        <Button\n          onClick={() => {\n            editBtnClick();\n          }}\n        >\n          Edit\n        </Button>\n      </Container>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}